ğŸ”§ QUICK FIX - DATABASE DISCONNECTED
=====================================

âŒ Váº¤N Äá»€:
----------
{
  "database": "disconnected"  // Backend cháº¡y nhÆ°ng chÆ°a cÃ³ DB
}

âœ… GIáº¢I PHÃP Cá»¤ THá»‚:
--------------------

1ï¸âƒ£ VÃ o Render Dashboard:
   URL: https://dashboard.render.com/
   
2ï¸âƒ£ Chá»n service backend cá»§a báº¡n

3ï¸âƒ£ VÃ o tab "Environment" (á»Ÿ menu bÃªn trÃ¡i)

4ï¸âƒ£ ThÃªm/Sá»­a biáº¿n mÃ´i trÆ°á»ng:
   
   Key: MONGODB_URL
   Value: mongodb+srv://username:password@cluster.mongodb.net/food-delivery
   
   HOáº¶C
   
   Key: MONGODB_URI  
   Value: mongodb+srv://username:password@cluster.mongodb.net/food-delivery

5ï¸âƒ£ Click "Save Changes"

6ï¸âƒ£ RESTART SERVICE:
   - VÃ o tab "Events" 
   - Click "Manual Deploy" hoáº·c button "Restart"
   - Äá»£i 2-3 phÃºt

7ï¸âƒ£ Check láº¡i:
   curl https://food-del-backend-4jjf.onrender.com/health
   
   Pháº£i tháº¥y:
   {
     "database": "connected"  // âœ…
   }

=====================================
ğŸ“ LÆ¯U Ã QUAN TRá»ŒNG:
=====================================

1. MONGODB_URL hoáº·c MONGODB_URI pháº£i cÃ³
2. Láº¥y connection string tá»« MongoDB Atlas
3. Format: mongodb+srv://user:pass@cluster.mongodb.net/dbname
4. Sau khi update env vars â†’ PHáº¢I RESTART
5. Check logs trÃªn Render Ä‘á»ƒ xem lá»—i cá»¥ thá»ƒ

=====================================
ğŸ” Náº¾U VáºªN Lá»–I - CHECK NHá»®NG THá»¨ SAU:
=====================================

â–¡ MongoDB Atlas Network Access:
  â†’ VÃ o https://cloud.mongodb.com/
  â†’ Database Access â†’ IP Access List
  â†’ Pháº£i cÃ³: 0.0.0.0/0 hoáº·c Render IPs

â–¡ Connection String format:
  â†’ Pháº£i cÃ³ username vÃ  password
  â†’ Pháº£i cÃ³ cluster name
  â†’ Pháº£i cÃ³ database name

â–¡ Render Environment Variables:
  â†’ Key: MONGODB_URL hoáº·c MONGODB_URI (hoáº·c cáº£ hai)
  â†’ Value: Full connection string
  â†’ KHÃ”NG cÃ³ khoáº£ng trá»‘ng

â–¡ Service Ä‘Ã£ restart sau khi update env vars?

â–¡ Check Render Logs:
  â†’ VÃ o service â†’ Logs
  â†’ TÃ¬m "âŒ Database connection error"
  â†’ Xem lá»—i cá»¥ thá»ƒ

=====================================
ğŸ¯ AFTER FIX - TEST SIGNUP:
=====================================

curl -X POST https://food-del-backend-4jjf.onrender.com/api/admin/signup \
  -H "Content-Type: application/json" \
  -d '{"name":"Admin","email":"admin@test.com","password":"Admin123456","role":"admin"}'

Response mong Ä‘á»£i:
{
  "success": true,
  "message": "Admin account created successfully",
  "token": "...",
  "user": {...}
}

